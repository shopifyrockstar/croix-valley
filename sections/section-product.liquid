{%- assign product = all_products[section.settings.featured_product] -%}

{% if product.empty? %}
    {%- assign section_onboarding = true -%}
{% endif %}

<section class="section section--{{ section.id }} section--product-featured section--full-bg section--no-bg" data-section-id="{{ section.id }}" data-section-type="product-featured"{% if section_onboarding %} data-section-onboarding="true"{% endif %}>
    <style>
        /* Loading states */
        .product-featured__photo--loading .product-featured__photo__wrapper:not(:first-of-type) {
            display: none;
        }
    </style>
    <noscript>
        <style>
            /* Loading states */
            .product-featured__photo--loading .product-featured__photo__wrapper:not(:first-of-type) {
                display: initial;
            }
        </style>
    </noscript>

    {% assign current_variant = product.selected_or_first_available_variant %}
    {% unless section_onboarding %}
        {%- assign price = current_variant.price -%}
        {%- assign available = current_variant.available -%}
    {% else %}
        {%- assign price = 1999 -%}
        {%- assign available = true -%}
    {% endunless %}

    <div class="product-featured product-featured--{{ product.id }} product-featured--{{ section.settings.content_align }} js-product-{{ product.id }} js-product-featured" data-product-id="{{ product.id }}">
        <div class="container container--medium">

            <div class="o-layout u-flex u-flex--middle{% if section.settings.content_align == 'reverse' %} o-layout--reverse{%  endif %}">

                <div class="o-layout__item u-1/1 u-1/2@tab">
                    {% unless section_onboarding %}
                        <div class="product-featured__photo-wrapper js-product-slider-wrapper" data-product-media-wrapper data-product-media-group data-enable-video-looping="{{ section.settings.enable_video_looping }}">
                            <div class="product-featured__photo js-product-slider product-featured__photo--loading" data-slider-id="1">

                                {% if product.media.size == 0 %}
                                        <img
                                            class="product-featured__photo__img"
                                            src="{{ 'placeholder.png' | asset_img_url: '300x' }}"
                                            srcset="{{ 'placeholder.png' | asset_img_url: '180x' }} 180w 180h,
                                                    {{ 'placeholder.png' | asset_img_url: '360x' }} 360w 360h,
                                                    {{ 'placeholder.png' | asset_img_url: '540x' }} 540w 540h,
                                                    {{ 'placeholder.png' | asset_img_url: '720x' }} 720w 720h,
                                                    {{ 'placeholder.png' | asset_img_url: '900x' }} 900w 900h,
                                                    {{ 'placeholder.png' | asset_img_url: '1080x' }} 1080w 1080h,
                                                    {{ 'placeholder.png' | asset_img_url: '1296x' }} 1296w 1296h,
                                                    {{ 'placeholder.png' | asset_img_url: '1512x' }} 1512w 1512h,
                                                    {{ 'placeholder.png' | asset_img_url: '1728x' }} 1728w 1728h,
                                                    {{ 'placeholder.png' | asset_img_url: '2048x' }} 2048w 2048h
                                                    "
                                            sizes="(min-width: 768px) 50vw, 100vw"
                                            width="300"
                                            height="300"
                                            alt="placeholder image"
                                            loading="lazy"
                                        />
                                    {% endif %}
                                    

                                {% for media in product.media %}
                                    {% capture img_id %}FeaturedImage-{{ section.id }}-{{ media.id }}{% endcapture %}
                                    <div class="product-featured__photo__wrapper">

                                        {% case media.media_type %}
                                        {% when 'image' %}

                                            <div class="product-featured__photo__item" data-slide-id="{{ forloop.index0 }}" data-media-id="{{ media.id }}">
                                                <img
                                                    class="product-featured__photo__img"
                                                    src="{{ media | img_url: '300x' }}"
                                                    srcset="
                                                        {{ media | img_url: '180x' }} 180w {{ 180 | divided_by: media.aspect_ratio | round }}h,
                                                        {{ media | img_url: '360x' }} 360w {{ 360 | divided_by: media.aspect_ratio | round }}h,
                                                        {{ media | img_url: '540x' }} 540w {{ 540 | divided_by: media.aspect_ratio | round }}h,
                                                        {{ media | img_url: '720x' }} 720w {{ 720 | divided_by: media.aspect_ratio | round }}h,
                                                        {{ media | img_url: '900x' }} 900w {{ 900 | divided_by: media.aspect_ratio | round }}h,
                                                        {{ media | img_url: '1080x' }} 1080w {{ 1080 | divided_by: media.aspect_ratio | round }}h,
                                                        {{ media | img_url: '1296x' }} 1296w {{ 1296 | divided_by: media.aspect_ratio | round }}h,
                                                        {{ media | img_url: '1512x' }} 1512w {{ 1512 | divided_by: media.aspect_ratio | round }}h,
                                                        {{ media | img_url: '1728x' }} 1728w {{ 1728 | divided_by: media.aspect_ratio | round }}h,
                                                        {{ media | img_url: '2048x' }} 20148w {{ 2048 | divided_by: media.aspect_ratio | round }}h
                                                    "
                                                    sizes="(min-width: 768px) 50vw, 100vw"
                                                    width="300"
                                                    height="{{ 300 | divided_by: media.aspect_ratio | round }}"
                                                    alt="{{ media.alt | escape }}"
                                                    loading="lazy"
                                                />
                                            </div>

                                        {% when 'video' %}
                                            {%- comment -%}
                                                Load different image sizes depending on the breakpoint for background image overlay
                                            {%- endcomment -%}
                                            {% style %}
                                                @media screen and (max-width: 320px) {
                                                  .product-featured__photo__item--{{ media.id }} .plyr__poster {
                                                    background-image: url({{ media.preview_image | img_url: '360x'}}) !important;
                                                  }
                                                }
                                                @media screen and (min-width: 320px) and (max-width: 780px) {
                                                  .product-featured__photo__item--{{ media.id }} .plyr__poster {
                                                    background-image: url({{ media.preview_image | img_url: '900x'}}) !important;
                                                  }
                                                }
                                                @media screen and (min-width: 1080px) {
                                                  .product-featured__photo__item--{{ media.id }} .plyr__poster {
                                                    background-image: url({{ media.preview_image | img_url: '1080x'}}) !important;
                                                  }
                                                }
                                            {% endstyle %}
                                            <div class="product-featured__photo__item product-featured__photo__item--video product-featured__photo__item--{{ media.id }}" data-slide-id="{{ forloop.index0 }}" data-media-id="{{ media.id }}" style="padding-top: {{ 1 | divided_by: media.aspect_ratio | times: 100 }}%;">
                                                {{ media | video_tag: controls: true, class: 'media-video', image_size: '300x300' }}
                                            </div>

                                        {% when 'external_video' %}
                                            <div class="product-featured__photo__item product-featured__photo__item--video product-featured__photo__item--external-video" data-slide-id="{{ forloop.index0 }}" data-media-id="{{ media.id }}" style="padding-top: {{ 1 | divided_by: media.aspect_ratio | times: 100 }}%;">
                                                {% render 'lazy_video_tag', media: media %}
                                                {% comment %} {{ media | external_video_tag }} {% endcomment %}
                                            </div>

                                        {% when 'model' %}
                                            <div class="product-featured__photo__item product-featured__photo__item--model" data-slide-id="{{ forloop.index0 }}" data-media-id="{{ media.id }}" style="padding-top: 100%">
                                                {{ media | model_viewer_tag: image_size: '800x800', reveal: 'interaction', toggleable: true, data-model-id: media.id}}
                                            </div>
                                        {% else %}

                                              {{ media | media_tag }}

                                        {% endcase %}

                                    </div>
                                {% endfor %}
                            </div>
                            {% assign first_3d_model = product.media | where: "media_type", "model" | first %}
                            {%- if first_3d_model -%}
                                <button
                                  aria-label="{{ 'products.product.view_in_space_label' | t }}"
                                  class="product-featured__view-in-space js-product-view-in-space-btn"
                                  data-shopify-xr
                                  data-shopify-model3d-id="{{ first_3d_model.id }}"
                                  data-shopify-title="{{ product.title }}"
                                  data-shopify-xr-hidden
                                >
                                    {% render 'icon-3d-badge-full-color' %}<span class='product-featured__view-in-space-text'>{{ 'products.product.view_in_space' | t }}</span>
                                </button>
                            {%- endif -%}
                            {%- if product.media.size > 1 -%}
                                <div class="product-featured__photo__nav js-product-slider-nav">
                                    <div class="product-featured__photo__nav__dots js-product-slider-nav-dots"></div>
                                </div>
                            {%- endif -%}
                        </div>
                    {% else %}
                        <div class="product-featured__photo-wrapper">
                            <div class="product-featured__photo">
                                {{ 'product-1' | placeholder_svg_tag: 'placeholder-svg placeholder-svg--light' }}
                            </div>
                        </div>
                    {% endunless %}
                    <div class="theme-spinner__wrap js-product-slider-spinner">
                        <span class="theme-spinner"></span>
                    </div>
                </div>

                <div class="o-layout__item u-1/1 u-1/2@tab">

                    <div class="product-featured__details js-product-single-actions">

                        <div class="section__title{% if section.settings.show_vendor %} section__title--vendor{% endif %}">
                            <h2 class="section__title-text product-featured__title-text"><a href="{{ product.url }}">{% unless section_onboarding %}{{ product.title }}{% else %}{{ 'homepage.onboarding.product_title' | t }}{% endunless %}</a></h2>
                            {% if section.settings.show_vendor %}
                                <h4 class="section__title-desc product-featured__title-desc">{% unless section_onboarding %}{{ product.vendor | link_to_vendor }}{% else %}{{ 'homepage.onboarding.product_vendor' | t }}{% endunless %}</h4>
                            {% endif %}
                        </div>

                        {% unless section_onboarding %}

                        <div class="js-product-form-wrapper js-product-form-wrapper--{{ product.id }}">

                            {% capture 'product_id_attr' %}js-product-form--{{ product.id }}{% endcapture %}
                            {% form 'product', product, class: "product-form product-form--featured js-product-form", id:product_id_attr %}

                                {% assign hide_default_title = false %}
                                {% if product.variants.size == 1 and product.variants.first.title contains 'Default' %}
                                    {% assign hide_default_title = true %}
                                {% endif %}
                                <select name="id" id="productSelect-{{ section.id }}-{{ product.id }}" class="product-form__single-variant-select js-product-variant-select">
                                    {% for variant in product.variants %}
                                        {% if variant.available %}
                                            <option {% if variant == product.selected_or_first_available_variant %} selected="selected" {% endif %} data-sku="{{ variant.sku }}" value="{{ variant.id }}" data-qty="{{ variant.inventory_quantity }}">{{ variant.title }}</option>
                                        {% else %}
                                            <option disabled="disabled">{{ variant.title }} - {{ 'products.product.sold_out' | t }}</option>
                                        {% endif %}
                                    {% endfor %}
                                </select>

                                {%- for block in section.blocks -%}

                                    {%- case block.type -%}
                                    {%- when '@app' -%}
                                        <div class="product-featured__block product-featured__block--{{ block.type }}" {{ block.shopify_attributes }}>
                                            {% render block %}
                                        </div>

                                    {%- when 'description' -%}
                                        <div class="product-featured__block product-featured__block--{{ block.type }}" {{ block.shopify_attributes }}>
                                            <div class="product-featured__content">
                                                <div class="product-featured__content-text rte">
                                                    {% unless section_onboarding %}
                                                        {% if block.settings.desc_text != blank %}
                                                            {{ block.settings.desc_text }}
                                                        {% else %}
                                                            {{ product.description | strip_html | truncatewords: 20 }} <a href="{{ product.url }}">{{ 'homepage.onboarding.product_more_label' | t }}</a>
                                                        {% endif %}
                                                    {% else %}
                                                        <p>{{ 'homepage.onboarding.product_text' | t }}</p>
                                                    {% endunless %}
                                                </div>
                                            </div>
                                        </div>

                                    {%- when 'price' -%}
                                        <div class="product-featured__block product-featured__block--{{ block.type }}{% if block.settings.show_separator %} product-featured__block--separator{% endif %}" {{ block.shopify_attributes }}>
                                            {% render 'product-price', product: product, component: 'product-featured', from_price: false, show_tax_notice: block.settings.show_tax_notice %}
                                        </div>

                                    {%- when 'buy_buttons' -%}
                                        <div class="product-featured__block product-featured__block--{{ block.type }}" {{ block.shopify_attributes }}>


                                                <div class="product-form__add js-product-buttons{% unless product.available %} product-form__add--sold{% endunless %}{% if block.settings.enable_payment_button %} product-form__add--dynamic{% endif %}">

                                                    <button type="submit" name="add" class="c-btn c-btn--full c-btn--{% if block.settings.enable_payment_button %}hollow{% else %}primary{% endif %} product-form__add-btn js-product-add">
                                                        <span class="product-form__add-btn__text">
                                                            <span class="js-product-add-text">{{ 'products.product.add_to_cart' | t }}</span>
                                                        </span>
                                                        <span class=" product-form__add-btn__tick"><i class="icon icon--tick"></i></span>
                                                    </button>

                                                    {% if block.settings.enable_payment_button %}
                                                        {{ form | payment_button }}
                                                    {% endif %}

                                                </div>

                                            

                                        </div>

                                    {%- when 'variant_picker' -%}
                                        <div class="product-featured__block product-featured__block--{{ block.type }}" {{ block.shopify_attributes }}>

                                            <div class="product-form__variant js-product-form-variants product-form__variant--{{ block.settings.product_variant_style }}">

                                                {% unless hide_default_title %}
                                                    {% if block.settings.product_variant_style == 'buttons' or block.settings.product_variant_style == 'swatches' %}
                                                        <div class="product-form__swatches product-form__swatches--featured">
                                                            {% for option in product.options_with_values %}
                                                                {% render 'product-options',
                                                                    product_id: product.id,
                                                                    component_type: 'form',
                                                                    current_variant: current_variant,
                                                                    option: option,
                                                                    style: block.settings.product_variant_style,
                                                                    use_swatch_images: settings.use_swatch_images
                                                                %}
                                                            {% endfor %}
                                                        </div>
                                                    {% endif %}
                                                {% endunless %}

                                            </div>
                                        </div>

                                        <noscript>
                                            <select name="id" id="productSelect-{{ section.id }}-{{ product.id }}">
                                                {% for variant in product.variants %}
                                                    {% if variant.available %}
                                                        <option {% if variant == product.selected_or_first_available_variant %} selected="selected" {% endif %} value="{{ variant.id }}" data-qty="{{ variant.inventory_quantity }}">{{ variant.title }}</option>
                                                    {% else %}
                                                        <option value="{{ variant.id }}" disabled="disabled">{{ variant.title }} - {{ 'products.product.sold_out' | t }}</option>
                                                    {% endif %}
                                                {% endfor %}
                                            </select>
                                        </noscript>

                                    {%- when 'quantity_selector' -%}
                                        <div class="product-featured__block product-featured__block--{{ block.type }}" {{ block.shopify_attributes }}>
                                            <div class="product-form__qty">
                                                <label for="Quantity" class="quantity-selector u-small">{{ 'products.product.quantity' | t }}:</label>
                                                <div class="product-form__qty-input">
                                                    <input type="number" id="Quantity" name="quantity" value="1" min="1" class="quantity-selector js-qty-input">
                                                </div>
                                            </div>
                                        </div>

                                    {%- when 'inventory_notice' -%}
                                        <div class="product-featured__block product-featured__block--{{ block.type }}" {{ block.shopify_attributes }}>
                                            <p class="product-form__stock-note product-form__stock-note--{{ block.settings.align }} js-price-stock-note" data-qty-limit="{{ block.settings.inventory_limit }}" {% if current_variant.inventory_management == "shopify" and current_variant.available %}{% unless current_variant.inventory_quantity <= block.settings.inventory_limit %} style="display:none;"{% endunless %}{% endif %}>{{ 'products.product.qty_notice_html' | t: count: current_variant.inventory_quantity }}</p>
                                        </div>

                                    {%- when 'image' -%}
                                        <div class="product-featured__block product-featured__block--{{ block.type }}" {{ block.shopify_attributes }}>
                                            {% if block.settings.image != blank %}
                                                <div class="product-form__img" style="text-align: {{ block.settings.align }}">
                                                    {% unless block.settings.link == blank %}
                                                        <a href="{{ block.settings.link }}" class="product-form__img__link">
                                                    {% endunless %}
                                                        <img
                                                            class="product-form__img__img"
                                                            src="{{ block.settings.image | img_url: '360x' }}"
                                                            srcset="
                                                                {{ block.settings.image | img_url: '180x' }} 180w {{ 180 | divided_by: block.settings.image.aspect_ratio | round }}h,
                                                                {{ block.settings.image | img_url: '360x' }} 360w {{ 360 | divided_by: block.settings.image.aspect_ratio | round }}h,
                                                                {{ block.settings.image | img_url: '540x' }} 540w {{ 540 | divided_by: block.settings.image.aspect_ratio | round }}h,
                                                                {{ block.settings.image | img_url: '720x' }} 720w {{ 720 | divided_by: block.settings.image.aspect_ratio | round }}h,
                                                                {{ block.settings.image | img_url: '900x' }} 900w {{ 900 | divided_by: block.settings.image.aspect_ratio | round }}h
                                                            "
                                                            width="360"
                                                            height="{{ 360 | divided_by: block.settings.image.aspect_ratio | round }}"
                                                            alt="{{ block.settings.image.alt }}"
                                                            loading="lazy"
                                                            style="max-width: {{ block.settings.image_width }}px"
                                                        />
                                                    {% unless block.settings.link == blank %}
                                                        </a>
                                                    {% endunless %}
                                                </div>
                                            {% endif %}
                                        </div>

                                    {%- when 'link' -%}
                                        <div class="product-featured__block product-featured__block--{{ block.type }}" {{ block.shopify_attributes }}>
                                            {% unless block.settings.title == blank %}
                                                <div class="product-form__link__wrapper" style="text-align: {{ block.settings.align }}">
                                                    <a href="{{ block.settings.link }}" class="product-form__link product-form__link--{{ block.settings.style }}{% unless block.settings.style == 'body' %} link link--{{ block.settings.style }}{% endunless %}" {% if block.settings.new_tab %} target="_blank"{% endif %}>{{ block.settings.title | escape }}</a>
                                                </div>
                                            {% endunless %}
                                        </div>

                                    {%- when 'spacer' -%}
                                        <div class="product-featured__block product-featured__block--{{ block.type }}" {{ block.shopify_attributes }}>
                                            <div class="product-form__spacer product-form__spacer--top-{{ block.settings.top }} product-form__spacer--bottom-{{ block.settings.bottom }} {% if block.settings.border %} product-form__spacer--has-border{% endif %}"></div>
                                        </div>

                                    {%- when 'reviews' -%}
                                        <div class="product-featured__block product-featured__block--{{ block.type }}" style="text-align: {{ block.settings.align }}" {{ block.shopify_attributes }}>
                                            <span class="shopify-product-reviews-badge" data-id="{{ product.id }}"></span>
                                        </div>

                                    {%- endcase -%}
                                {%- endfor -%}
                            {% endform %}

                        </div>
                        
                        {% else %}

                            <form class="product-form product-form--featured js-product-form" id="js-product-form-{{ product.id }}">
                                <div class="product-featured__price js-product-price">
                                    <div class="product-featured__price-text js-product-price-text">
                                        <span class="u-hidden-visually">{{ 'products.general.regular_price' | t }}</span>
                                        <span class="js-product-price-number">
                                            <span class="product-featured__price-number"><span class="money">{{ price | money }}</span></span>
                                        </span>
                                    </div>
                                </div>

                                <div class="product-form__qty">
                                    <label for="Quantity" class="quantity-selector u-small">{{ 'products.product.quantity' | t }}:</label>
                                    <div class="product-form__qty-input">     
                                        <div class="js-qty">
                                            <button type="button" class="js-qty__adjust js-qty__adjust--minus icon-fallback-text" data-id="" data-qty="0">
                                                <span aria-hidden="true">âˆ’</span>
                                                <span class="u-hidden-visually">Reduce item quantity by one</span>
                                            </button>
                                            <input type="text" class="js-qty__num js-qty-input" value="1" min="1" data-id="" aria-label="quantity" pattern="[0-9]*" name="quantity" id="Quantity" autocomplete="off">
                                            <button type="button" class="js-qty__adjust js-qty__adjust--plus" data-id="" data-qty="11">
                                                <span aria-hidden="true">+</span>
                                                <span class="u-hidden-visually">Increase item quantity by one</span>
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <div class="product-form__add">
                                    <button type="submit" name="add" class="c-btn c-btn--full c-btn--primary product-form__add-btn js-product-add" disabled>
                                        <span id="AddToCartText" class="js-product-add-text">{{ 'products.product.add_to_cart' | t }}</span>
                                    </button>
                                </div>
                            </form>

                        {% endunless %}

                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script type="application/json" id="ProductJson-{{ product.id }}">
    {% unless section_onboarding %}
        {{ product | json }}
    {% else %}
        {"onboarding": true}
    {% endunless %}
</script>
{% unless product == empty %}
    <script type="application/json" id="ModelJson-{{ section.id }}">
        {{ product.media | where: 'media_type', 'model' | json }}
    </script>
{% endunless %}
<script>
    {% unless section_onboarding %}
        document.addEventListener("DOMContentLoaded", function(event) {
            theme.productSelect('{{ product.id }}','{{ section.id }}', 'featured', false);
        });
    {% endunless %}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org/",
  "@type": "Product",
  "name": {{ product.title | json }},
  "url": {{ shop.url | append: product.url | json }},
  {%- if product.featured_media -%}
    {%- assign media_size = product.featured_media.preview_image.width | append: 'x' -%}
    "image": [
      {{ product.featured_media | img_url: media_size | prepend: "https:" | json }}
    ],
  {%- endif -%}
  "description": {{ product.description | strip_html | json }},
  {%- if current_variant.sku != blank -%}
    "sku": {{ current_variant.sku | json }},
  {%- endif -%}
  "brand": {
    "@type": "Thing",
    "name": {{ product.vendor | json }}
  },
  "offers": [
    {%- for variant in product.variants -%}
      {
        "@type" : "Offer",
        {%- if variant.sku != blank -%}
          "sku": {{ variant.sku | json }},
        {%- endif -%}
        "availability" : "http://schema.org/{% if variant.available %}InStock{% else %}OutOfStock{% endif %}",
        "price" : {{ variant.price | divided_by: 100.00 | json }},
        "priceCurrency" : {{ cart.currency.iso_code | json }},
        "url" : {{ shop.url | append: variant.url | json }}
      }{% unless forloop.last %},{% endunless %}
    {%- endfor -%}
  ]
}
</script>

{% schema %}
{
    "name": "Featured product",
    "class": "js-section__home-product",
    "tag": "section",
    "settings": [
        {
            "type": "product",
            "id": "featured_product",
            "label": "Product"
        },
        {
            "type": "checkbox",
            "id": "show_vendor",
            "label": "Show vendor",
            "default": false
        },
        {
            "type": "select",
            "id": "content_align",
            "label": "Image alignment",
            "options": [
                {
                    "value": "default",
                    "label": "Left"
                },
                {
                    "value": "reverse",
                    "label": "Right"
                }
            ],
            "default": "default"
        },
        {
            "type": "header",
            "content": "Media",
            "info": "Learn more about [media types](https://help.shopify.com/manual/products/product-media)"
        },
        {
            "type": "checkbox",
            "id": "enable_video_looping",
            "label": "Enable video looping",
            "default": false
        }
    ],
    "blocks": [
        {
            "type": "description",
            "name": "Description",
            "limit": 1,
            "settings": [
                {
                    "type": "richtext",
                    "id": "desc_text",
                    "label": "Description override"
                }
            ]
        },
        {
            "type": "price",
            "name": "Price",
            "limit": 1,
            "settings": [
                {
                    "type": "checkbox",
                    "id": "show_tax_notice",
                    "label": "Show tax notice",
                    "default": false
                },
                {
                    "type": "checkbox",
                    "id": "show_separator",
                    "label": "Emphasize price",
                    "default": true
                }
            ]
        },
        {
            "type": "buy_buttons",
            "name": "Buy buttons",
            "limit": 1,
            "settings": [
                {
                    "type": "checkbox",
                    "id": "enable_payment_button",
                    "label": "Show dynamic checkout button",
                    "info": "Lets customers check out directly using a familiar payment method. [Learn more](https://help.shopify.com/manual/using-themes/change-the-layout/dynamic-checkout)",
                    "default": true
                }
            ]
        },
        {
            "type": "variant_picker",
            "name": "Variant picker",
            "limit": 1,
            "settings": [
                {
                    "type": "select",
                    "id": "product_variant_style",
                    "label": "Product variant style",
                    "options": [
                        {
                            "value": "dropdowns",
                            "label": "Dropdowns"
                        },
                        {
                            "value": "buttons",
                            "label": "Buttons"
                        },
                        {
                            "value": "swatches",
                            "label": "Color swatches and buttons"
                        }
                    ],
                    "default": "buttons"
                }
            ]
        },
        {
            "type": "quantity_selector",
            "name": "Quantity selector",
            "limit": 1
        },
        {
            "type": "inventory_notice",
            "name": "Inventory notice",
            "limit": 1,
            "settings": [
                {
                    "type": "range",
                    "id": "inventory_limit",
                    "label": "Low stock notice threshold",
                    "min": 1,
                    "max": 30,
                    "step": 1,
                    "default": 3,
                    "info": "Notice will show if quantity is equal or lower than the threshold."
                },
                {
                    "type": "select",
                    "id": "align",
                    "label": "Alignment",
                    "options": [
                        {
                            "value": "left",
                            "label": "Left"
                        },
                        {
                            "value": "center",
                            "label": "Center"
                        },
                        {
                            "value": "right",
                            "label": "Right"
                        }
                    ],
                    "default": "left"
                }
            ]
        },
        {
            "type": "image",
            "name": "Image",
            "settings": [
                {
                    "type": "image_picker",
                    "id": "image",
                    "label": "Image"
                },
                {
                    "type": "range",
                    "id": "image_width",
                    "label": "Image width",
                    "unit": "px",
                    "min": 40,
                    "max": 800,
                    "step": 10,
                    "default": 200
                },
                {
                    "type": "select",
                    "id": "align",
                    "label": "Alignment",
                    "options": [
                        {
                            "value": "left",
                            "label": "Left"
                        },
                        {
                            "value": "center",
                            "label": "Center"
                        },
                        {
                            "value": "right",
                            "label": "Right"
                        }
                    ],
                    "default": "center"
                },
                {
                    "type": "url",
                    "id": "link",
                    "label": "Link"
                }
            ]
        },
        {
            "type": "link",
            "name": "Link",
            "settings": [
                {
                    "type": "text",
                    "id": "title",
                    "label": "Link label",
                    "default": "Learn more"
                },
                {
                    "type": "url",
                    "id": "link",
                    "label": "Link"
                },
                {
                    "type": "select",
                    "id": "style",
                    "label": "Link style",
                    "options": [
                        {
                            "value": "body",
                            "label": "Body text"
                        },
                        {
                            "value": "arrow",
                            "label": "Chevron"
                        }
                    ],
                    "default": "body"
                },
                {
                    "type": "select",
                    "id": "align",
                    "label": "Alignment",
                    "options": [
                        {
                            "value": "left",
                            "label": "Left"
                        },
                        {
                            "value": "center",
                            "label": "Center"
                        },
                        {
                            "value": "right",
                            "label": "Right"
                        }
                    ],
                    "default": "center"
                },
                {
                    "type": "checkbox",
                    "id": "new_tab",
                    "label": "Open in a new tab",
                    "default": false
                }
            ]
        },
        {
            "type": "spacer",
            "name": "Spacer",
            "settings": [
                {
                    "type": "select",
                    "id": "top",
                    "label": "Top spacing",
                    "options": [
                        {
                            "value": "none",
                            "label": "None"
                        },
                        {
                            "value": "small",
                            "label": "Small"
                        },
                        {
                            "value": "medium",
                            "label": "Medium"
                        },
                        {
                            "value": "large",
                            "label": "Large"
                        }
                    ],
                    "default": "small"
                },
                {
                    "type": "select",
                    "id": "bottom",
                    "label": "Bottom spacing",
                    "options": [
                        {
                            "value": "none",
                            "label": "None"
                        },
                        {
                            "value": "small",
                            "label": "Small"
                        },
                        {
                            "value": "medium",
                            "label": "Medium"
                        },
                        {
                            "value": "large",
                            "label": "Large"
                        }
                    ],
                    "default": "small"
                },
                {
                    "type": "checkbox",
                    "id": "border",
                    "label": "Show dividing line",
                    "default": true
                }
            ]
        },
        {
            "type": "reviews",
            "name": "Product rating",
            "limit": 1,
            "settings": [
                {
                  "type": "paragraph",
                  "content": "To display a rating, add a product rating app. [Learn more](https://help.shopify.com/en/manual/products/product-reviews/installation)"
                },
                {
                    "type": "select",
                    "id": "align",
                    "label": "Alignment",
                    "options": [
                        {
                            "value": "left",
                            "label": "Left"
                        },
                        {
                            "value": "center",
                            "label": "Center"
                        },
                        {
                            "value": "right",
                            "label": "Right"
                        }
                    ],
                    "default": "left"
                }
            ]
        },
        {
            "type": "@app"
        }
    ],
    "presets": [
        {
            "name": "Featured product",
            "blocks": [
                {
                    "type": "description"
                },
                {
                    "type": "price"
                },
                {
                    "type": "variant_picker"
                },
                {
                    "type": "quantity_selector"
                },
                {
                    "type": "inventory_notice"
                },
                {
                    "type": "buy_buttons"
                }
            ]
        }
    ],
    "templates": ["404", "article", "blog", "cart", "collection", "index", "list-collections", "page", "product", "search"]
}
{% endschema %}